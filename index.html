<!DOCTYPE html>
<html lang="en">
  <head>
    <title>WDBG</title>
    <script src="scripts/title_favicon.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="scripts/style.css">
  </head>
  <body>
    <div class="navbar">
      <a href="index.html">Home</a>
      <a href="games">Games</a>
      <a href="emulator">Emulator</a>
      <a href="downloads">Downloads</a>
    </div>
    <h1>WDB Games Â· <span id="viewCount">0 Views</span>
    </h1>
    <div class="bigbox-container">
      <div class="bigbox">
        <img src="images/polytrack.png" alt="Games">
        <a href="games">Games</a>
      </div>
      <div class="bigbox">
        <img src="images/mario_kart_64.png" alt="Emulator">
        <a href="emulator">Emulator</a>
      </div>
      <div class="bigbox">
        <img src="images/appel.png" alt="Downloads">
        <a href="downloads.html">Downloads</a>
      </div>
    </div>
    <div class="links-container">
      <div class="link-box">
        <a href="settings.html" target="_blank">Settings</a>
        <p>Customize WDB Games here!</p>
      </div>
      <div class="link-box">
        <a href="changelog.html" target="_blank">Changelog</a>
        <p>See recent additions here!</p>
      </div>
      <div class="link-box">
        <a href="https://sites.google.com/view/wdbgr/home" target="_blank">Google Sites</a>
        <p>The Google Sites version of this website</p>
      </div>
      <div class="link-box">
        <a href="https://tally.so/r/3NdxgG" target="_blank">Tally Forms</a>
        <p>Suggest a game or report a bug here!</p>
      </div>
      <div class="link-box">
        <a href="https://github.com/wowdabug/wdbg" target="_blank">Github Repo</a>
        <p>The code for this website</p>
      </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>
    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyBKmpmd450Wly7mBl5uMB9K7TKeIwzkJLk",
        authDomain: "chat-7ba8c.firebaseapp.com",
        databaseURL: "https://chat-7ba8c-default-rtdb.firebaseio.com",
        projectId: "chat-7ba8c",
        storageBucket: "chat-7ba8c.firebasestorage.app",
        messagingSenderId: "605557322783",
        appId: "1:605557322783:web:945ab35987b6f29250d12a"
      };
      firebase.initializeApp(firebaseConfig);
      const db = firebase.database();
      const pageKey = "views/home";
      const countRef = db.ref(pageKey);
      countRef.transaction(current => (current || 0) + 1);
      countRef.on("value", snapshot => {
        const views = snapshot.val();
        document.getElementById("viewCount").innerText = views + " Views";
      });
    </script>
    <script>
      function toggleCategory(header) {
        let gamesContainer = header.nextElementSibling;
        if (gamesContainer.style.display === "grid") {
          gamesContainer.style.display = "none";
        } else {
          gamesContainer.style.display = "grid";
        }
      }
    </script>
  </body>
</html>